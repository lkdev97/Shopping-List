/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package shopping.list;

import io.javalin.Javalin;



public class App {

    public static void main(String[] args) {
        Javalin app = Javalin.create()
            .enableStaticFiles("/public")
            .start(80);
        
        app.post("/listhtml", ctx -> {
            ctx.result(HTMLGenerator.getListHTML());
        });

        app.get("/close", ctx -> {
            HTMLGenerator.setLastList(ctx.queryParam("id"));
            HTMLGenerator.undo();
            //ctx.result(Integer.toString(HTMLGenerator.Counter));
        });

        app.post("/article", ctx -> {
            String id = ListManager.splitId(ctx.formParam("id"));
            System.out.println(id);
            ctx.result(HTMLGenerator.getArticleHTML(ctx.formParam("name")));
        });

        app.get("/save", ctx -> {
            System.out.println("SAVE");
        });
    }
}
